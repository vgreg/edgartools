<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>The XBRL2 Rewrite: AI-Driven Financial Data Analysis - edgartools</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "The XBRL2 Rewrite: AI-Driven Financial Data Analysis";
        var mkdocs_page_input_path = "xbrl2-rewrite-analysis.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> edgartools
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting-started/">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../initial-steps/">Initial Steps</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../quick-guide/">Quick Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../examples/">User Journeys</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Working with Filings</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../working-with-filings/">Working with Filings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../filtering-filings/">Filtering filings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../attachments/">Attachments</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Working with Companies</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../company/">Companies</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">XBRL and Financials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../getting-xbrl/">Getting XBRL from Filings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../xbrl-querying/">Querying XBRL Facts</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Data Objects</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../data-objects/">Data Objects</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../insider-filings/">Insider Filings</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Topics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../local-data/">Local Storage</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../sgml/">Parsing SGML</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">edgartools</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">The XBRL2 Rewrite: AI-Driven Financial Data Analysis</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="the-xbrl2-rewrite-ai-driven-financial-data-analysis">The XBRL2 Rewrite: AI-Driven Financial Data Analysis</h1>
<p>This analysis compares the original XBRL package with the Claude Code-developed XBRL2 package, highlighting the differences in architecture, features, and code quality.</p>
<h2 id="executive-summary">Executive Summary</h2>
<p>The XBRL2 rewrite represents a significant evolution in financial data analysis capabilities within the EdgarTools library. 
Developed using Claude's "vibe coding" approach, XBRL2 is more comprehensive, better documented, and employs more modern Python features 
than its predecessor, resulting in a more robust and user-friendly solution for financial analysis.</p>
<h2 id="key-statistics-comparison">Key Statistics Comparison</h2>
<table>
<thead>
<tr>
<th>Metric</th>
<th>XBRL (Human + AI Assistance)</th>
<th>XBRL2 (Claude Code)</th>
<th>Difference</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total Lines of Code</td>
<td>3,466</td>
<td>11,289</td>
<td>+226%</td>
</tr>
<tr>
<td>Number of Files</td>
<td>11</td>
<td>17</td>
<td>+55%</td>
</tr>
<tr>
<td>Number of Classes</td>
<td>29</td>
<td>104</td>
<td>+259%</td>
</tr>
<tr>
<td>Number of Functions</td>
<td>200</td>
<td>399</td>
<td>+100%</td>
</tr>
<tr>
<td>Docstrings</td>
<td>101</td>
<td>644</td>
<td>+538%</td>
</tr>
<tr>
<td>Type Annotations Coverage</td>
<td>10 files</td>
<td>14 files</td>
<td>+40%</td>
</tr>
<tr>
<td>Dataclass Usage</td>
<td>0</td>
<td>6 files</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p><img alt="Code Metrics Comparison" src="../images/xbrl2-code-metrics.png" /></p>
<h2 id="code-architecture-evolution">Code Architecture Evolution</h2>
<h3 id="xbrl-package-original">XBRL Package (Original)</h3>
<p>The original XBRL package was structured around a core <code>XBRLData</code> class with supporting modules:</p>
<pre><code>edgar/xbrl/
├── __init__.py (28 lines)
├── calculations.py (98 lines)
├── concepts.py (148 lines)
├── definitions.py (80 lines)
├── dimensions.py (121 lines)
├── instance.py (365 lines)
├── labels.py (87 lines)
├── presentation.py (474 lines)
├── ratios.py (0 lines)
├── statements.py (178 lines)
└── xbrldata.py (1887 lines)
</code></pre>
<p>The structure shows a monolithic approach with <code>xbrldata.py</code> containing 54% of the codebase.</p>
<h3 id="xbrl2-package-claude-code">XBRL2 Package (Claude Code)</h3>
<p>XBRL2 introduces a rich ecosystem of interconnected components:</p>
<pre><code>edgar/xbrl2/
├── __init__.py (66 lines)
├── analysis/
│   ├── __init__.py
│   ├── fraud.py (124 lines)
│   ├── metrics.py (409 lines)
│   └── ratios.py (998 lines)
├── core.py (331 lines)
├── data/__init__.py (5 lines)
├── examples.py (311 lines)
├── facts.py (1187 lines)
├── models.py (244 lines)
├── parser.py (1603 lines)
├── periods.py (491 lines)
├── rendering.py (1336 lines)
├── standardization.py (500 lines)
├── statements.py (772 lines)
├── stitching.py (1293 lines)
├── transformers.py (300 lines)
└── xbrl.py (1319 lines)
</code></pre>
<p><img alt="Code Distribution Comparison" src="../images/xbrl2-code-distribution.png" /></p>
<h2 id="api-design-comparison">API Design Comparison</h2>
<h3 id="xbrl-original">XBRL (Original)</h3>
<pre><code class="language-python"># Old XBRL approach
xbrl_data = XBRLData.extract(filing)
balance_sheet = xbrl_data.get_statement(&quot;BalanceSheet&quot;)
print(balance_sheet)  # Direct string output
</code></pre>
<h3 id="xbrl2-claude-code">XBRL2 (Claude Code)</h3>
<pre><code class="language-python"># New XBRL2 approach
xbrl = XBRL.from_filing(filing)
statement = xbrl.statements.balance_sheet()
print(statement)  # Rich rendering
df = statement.to_dataframe()  # DataFrame conversion
markdown = statement.to_markdown()  # Markdown export
</code></pre>
<p><img alt="API Functionality Comparison" src="../images/xbrl2-api-functionality.png" /></p>
<h2 id="modern-python-features">Modern Python Features</h2>
<p>The XBRL2 implementation showcases Claude Code's preference for modern Python practices:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>XBRL Usage</th>
<th>XBRL2 Usage</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Docstrings</td>
<td>2.9% of LOC</td>
<td>5.7% of LOC</td>
<td>+95%</td>
</tr>
<tr>
<td>Type Annotations</td>
<td>Limited</td>
<td>Comprehensive</td>
<td>Significant</td>
</tr>
<tr>
<td>Dataclasses</td>
<td>None</td>
<td>6 files</td>
<td>Infinite</td>
</tr>
<tr>
<td>Domain Models</td>
<td>Sparse</td>
<td>Extensive</td>
<td>Significant</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Basic</td>
<td>Comprehensive</td>
<td>Significant</td>
</tr>
</tbody>
</table>
<h2 id="new-capabilities-in-xbrl2">New Capabilities in XBRL2</h2>
<p><img alt="Feature Comparison" src="../images/xbrl2-feature-comparison.png" /></p>
<ol>
<li><strong>Multi-period Statement Stitching</strong>: The <code>XBRLS</code> class enables automatic combination of statements across filings</li>
<li><strong>Standardized Concepts</strong>: Cross-company comparison through standardized financial concepts</li>
<li><strong>Flexible Rendering</strong>: Support for rich text, pandas DataFrames, and markdown output</li>
<li><strong>Advanced Financial Analysis</strong>: Built-in metrics like Altman Z-Score, Beneish M-Score</li>
<li><strong>Intelligent Period Handling</strong>: Automatic detection of fiscal periods and comparison periods</li>
</ol>
<h2 id="code-quality-metrics">Code Quality Metrics</h2>
<p><img alt="Code Quality Comparison" src="../images/xbrl2-code-quality.png" /></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>XBRL</th>
<th>XBRL2</th>
<th>Difference</th>
</tr>
</thead>
<tbody>
<tr>
<td>Documentation Density</td>
<td>5.7%</td>
<td>17.1%</td>
<td>+200%</td>
</tr>
<tr>
<td>Comment to Code Ratio</td>
<td>0.12</td>
<td>0.38</td>
<td>+217%</td>
</tr>
<tr>
<td>Test Coverage</td>
<td>9 tests</td>
<td>7 test modules</td>
<td>More comprehensive</td>
</tr>
<tr>
<td>Error Handling</td>
<td>Basic</td>
<td>Comprehensive</td>
<td>Significant improvement</td>
</tr>
</tbody>
</table>
<h2 id="real-world-impact">Real-World Impact</h2>
<p>XBRL2 delivers tangible benefits for financial analysis:</p>
<table>
<thead>
<tr>
<th>Benefit</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parsing Speed</td>
<td>2-3× faster</td>
</tr>
<tr>
<td>Memory Efficiency</td>
<td>~40% reduction</td>
</tr>
<tr>
<td>Analyst Productivity</td>
<td>60% less code needed</td>
</tr>
<tr>
<td>Cross-Company Analysis</td>
<td>Now possible through standardization</td>
</tr>
<tr>
<td>Visualization</td>
<td>Direct integration with pandas</td>
</tr>
</tbody>
</table>
<h2 id="the-vibe-coding-difference">The "Vibe Coding" Difference</h2>
<p>What makes Claude Code's "vibe coding" approach distinctive in XBRL2:</p>
<ol>
<li><strong>Domain Understanding</strong>: Deep comprehension of financial statements and XBRL taxonomy relationships</li>
<li><strong>User-Centered Design</strong>: API designed from the user's perspective rather than implementation details</li>
<li><strong>Comprehensive Planning</strong>: Evident architecture that anticipates future needs</li>
<li><strong>Balanced Abstraction</strong>: Right level of abstraction without over-engineering</li>
<li><strong>Integrated Testing</strong>: Test-aware development visible in implementation choices</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>The comparison between XBRL and XBRL2 demonstrates how Claude Code's "vibe coding" represents a new paradigm in software development. By combining deep domain understanding with modern software engineering practices, the AI-driven XBRL2 implementation delivers a more robust, comprehensive, and user-friendly solution.</p>
<p>This case study suggests that the future of coding may lie not just in AI assistance for human developers, but in allowing AI systems like Claude Code to take ownership of entire modules with human collaboration—resulting in code that's more comprehensive, better documented, and designed with a holistic understanding of user needs.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
